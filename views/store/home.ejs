<%- include('../partials/head') %>

<body class="min-h-screen bg-[radial-gradient(ellipse_at_top,_#fde68a,_#fdf2f8,_#e0e7ff)]">

<%- include('../partials/nav', {
  sort: sort || '',
  search: search || '',
  page: 'homes',
  isLoggedIN: isLoggedIN,
  user: user
}) %>

<main class="pt-20 pb-28">

<!-- HERO -->
<section class="max-w-7xl mx-auto px-6 text-center">
  <h1 class="text-5xl md:text-6xl font-black text-slate-900">
    Discover
    <span class="bg-gradient-to-r from-rose-500 via-orange-400 to-amber-400 bg-clip-text text-transparent">
      Luxury Stays
    </span>
  </h1>

  <p class="mt-4 max-w-3xl mx-auto text-lg text-slate-600">
    Hand-picked premium homes with world-class comfort & unforgettable experiences.
  </p>

  <div class="mt-12 grid grid-cols-2 sm:grid-cols-4 gap-4 max-w-4xl mx-auto">
    <% const stats = [
      ['500+','Luxury Homes','rose'],
      ['120+','Top Cities','orange'],
      ['4.8‚òÖ','Avg Rating','yellow'],
      ['24/7','Support','emerald']
    ]; %>

    <% stats.forEach(s => { %>
      <div class="bg-white/70 backdrop-blur rounded-2xl p-4 shadow">
        <p class="text-2xl font-extrabold text-<%= s[2] %>-500"><%= s[0] %></p>
        <p class="text-xs text-slate-500"><%= s[1] %></p>
      </div>
    <% }) %>
  </div>
</section>

<!-- PROMO -->
<section class="mt-20 max-w-6xl mx-auto px-6">
  <div class="bg-slate-900 text-white rounded-[32px] p-10 text-center shadow-2xl">
    <h2 class="text-2xl font-extrabold">Experience stays beyond comfort</h2>
    <p class="mt-2 text-slate-300">
      Curated luxury homes for premium lifestyle & unforgettable memories
    </p>
  </div>
</section>

<!-- HOMES GRID -->
<section class="mt-20 max-w-7xl mx-auto px-6">
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10">

    <% homes.forEach(home => { %>
      <article class="bg-white rounded-[28px] shadow-xl overflow-hidden hover:-translate-y-3 transition">

        <div class="relative">
          <img src="<%= home.photoUrl %>" class="h-48 w-full object-cover">
          <span class="absolute top-3 left-3 bg-white px-3 py-1 rounded-full text-xs font-bold">
            ‚Çπ<%= home.price %> / night
          </span>
          <span class="absolute top-3 right-3 bg-black text-white px-2 py-1 rounded-full text-xs">
            ‚≠ê <%= home.rating %>
          </span>
        </div>

        <div class="p-5">
          <h3 class="font-extrabold text-lg"><%= home.houseName %></h3>
          <p class="text-sm text-slate-500">üìç <%= home.location %></p>

          <div class="mt-5 flex gap-3">
            <div class="flex-1">
              <%- include('../partials/add-to-favourite', { home, btnClass: 'fav-btn' }) %>
            </div>

            <a href="/home/<%= home._id %>" class="details-btn flex-1">
              View Details
            </a>
          </div>
        </div>
      </article>
    <% }) %>

  </div>
</section>

</main>

<style>
.fav-btn {
  height:44px;width:100%;
  border-radius:9999px;
  background:#020617;
  color:#fff;font-weight:700;
  box-shadow:0 12px 30px rgba(15,23,42,.6);
  transition:.3s;
}
.fav-btn:hover {
  background:linear-gradient(135deg,#f43f5e,#fb923c);
  transform:scale(1.05);
}

.details-btn {
  height:44px;
  border-radius:9999px;
  background:linear-gradient(135deg,#f43f5e,#f59e0b);
  color:#fff;font-weight:800;
  display:flex;align-items:center;justify-content:center;
}
</style>

</body>
</html>
