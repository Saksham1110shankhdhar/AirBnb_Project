<%- include('../partials/head') %>

<body class="min-h-screen bg-gradient-to-b from-[#FFF6D8] via-[#FFF1C1] to-[#FFE8EC]">

<%- include('../partials/nav') %>

<main class="relative overflow-hidden">

  <!-- HERO -->
  <section class="relative pt-24 pb-20 text-center">

    <!-- Glow -->
    <div class="absolute inset-0 -z-10">
      <div class="absolute top-[-120px] left-1/2 -translate-x-1/2 w-[700px] h-[700px] bg-orange-300/30 blur-[120px]"></div>
    </div>

    <h1
      class="text-6xl md:text-7xl font-black tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-red-600 via-orange-500 to-yellow-500 animate-fade">
      Live Where Luxury Lives
    </h1>

    <p class="mt-6 max-w-3xl mx-auto text-xl text-gray-700 animate-fade delay-150">
      Premium homes. Stunning locations. Experiences that feel unforgettable.
    </p>

    <!-- CTA -->
    <div class="mt-10 flex justify-center gap-4 animate-fade delay-300">
      <a href="#homes"
        class="px-8 py-4 rounded-full bg-gradient-to-r from-red-500 to-orange-500 text-white text-lg font-bold shadow-2xl hover:scale-105 transition">
        Explore Homes
      </a>
    </div>

    <!-- STATS -->
    <div class="mt-16 grid grid-cols-2 md:grid-cols-4 gap-8 max-w-5xl mx-auto animate-fade delay-500">
      <div class="stat">500+<span>Luxury Homes</span></div>
      <div class="stat">120+<span>Top Cities</span></div>
      <div class="stat">4.8‚òÖ<span>Avg Rating</span></div>
      <div class="stat">24/7<span>Support</span></div>
    </div>

  </section>

  <!-- HOMES GRID -->
  <section id="homes" class="max-w-7xl mx-auto px-6 pb-24">

    <h2 class="text-4xl font-extrabold text-center text-gray-900 mb-14">
      Hand-Picked Luxury Homes
    </h2>

    <div class="grid gap-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">

      <% homes.forEach(home => { %>

        <div
          class="group bg-white rounded-3xl shadow-xl overflow-hidden transform transition duration-500 hover:-translate-y-2 hover:shadow-2xl">

          <!-- Image -->
          <div class="relative overflow-hidden">
            <img src="<%= home.photoUrl %>"
              class="h-56 w-full object-cover transition duration-700 group-hover:scale-110">

            <span
              class="absolute top-4 left-4 bg-white/90 px-3 py-1 rounded-full text-sm font-bold">
              ‚Çπ<%= home.price %> / night
            </span>

            <span
              class="absolute top-4 right-4 bg-black/80 text-white px-2 py-1 rounded-full text-sm">
              ‚≠ê <%= home.rating %>
            </span>
          </div>

          <!-- Content -->
          <div class="p-5">
            <h3 class="text-lg font-bold text-gray-900 truncate">
              <%= home.houseName %>
            </h3>

            <p class="text-sm text-gray-500 mt-1">
              üìç <%= home.location %>
            </p>

            <!-- BOOK NOW (FIXED) -->
            <% if (!isLoggedIN) { %>
              <a href="/login?loginRequired=1" class="inline-block mt-4 w-full text-center
                        bg-gray-300 text-gray-600 py-3 rounded-xl font-bold">
                Login to Book
              </a>

            <% } else { %>
              <a href="/home/<%= home._id %>"
                 class="inline-block mt-4 w-full text-center
                        bg-gradient-to-r from-red-500 to-orange-500
                        text-white py-3 rounded-xl font-bold
                        hover:brightness-110 hover:shadow-xl transition">
                Book Now
              </a>
            <% } %>
            
          </div>

        </div>

      <% }) %>

    </div>

  </section>

</main>

<style>
@keyframes fade {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade { animation: fade 1s ease-out forwards; }
.delay-150 { animation-delay: .15s; }
.delay-300 { animation-delay: .3s; }
.delay-500 { animation-delay: .5s; }

.stat {
  background: white;
  padding: 1.6rem;
  border-radius: 1.5rem;
  font-size: 1.6rem;
  font-weight: 900;
  box-shadow: 0 20px 40px rgba(0,0,0,0.1);
}
.stat span {
  display: block;
  font-size: .8rem;
  font-weight: 600;
  color: #555;
  margin-top: .25rem;
}
</style>

</body>
</html>
