<%- include('../partials/layout', { 
  title: 'Login • Airbnb', 
  mainClass: 'pt-0' 
}) %>

<% if (loginRequired) { %>
  <div class="fixed top-24 left-1/2 z-50 -translate-x-1/2 animate-pop">
    <div
      class="flex items-center gap-4 rounded-2xl px-6 py-4
             bg-gradient-to-r from-rose-600 via-pink-500 to-orange-400
             text-white shadow-[0_20px_50px_rgba(244,63,94,0.45)]
             border border-white/30 backdrop-blur-md">

      <!-- Icon -->
      <div
        class="flex h-12 w-12 items-center justify-center rounded-full
               bg-white/20 text-white text-xl animate-pulse">
        ⚠️
      </div>

      <!-- Text -->
      <div>
        <p class="font-bold text-base leading-tight">
          Login Required
        </p>
        <p class="text-sm text-white/90">
          Please login to continue booking
        </p>
      </div>
    </div>
  </div>
<% } %>


<section class="relative flex min-h-[calc(100vh-5rem)] items-center justify-center overflow-hidden px-4">

  <!-- Background IMAGE -->
  <div class="absolute inset-0 -z-20">
    <img src="/images/airbnb-house.jpg"
         class="h-full w-full object-cover opacity-20"
         alt="Background"
         onerror="this.style.display='none'">
  </div>

  <!-- Soft gradient overlay -->
  <div class="absolute inset-0 -z-10 bg-gradient-to-br from-rose-50 via-white to-rose-100"></div>

  <!-- Main LOGIN CONTAINER -->
  <div class="relative z-10 mx-auto grid w-full max-w-5xl grid-cols-1 md:grid-cols-2 
              rounded-[32px] bg-white overflow-hidden
              shadow-[0_30px_80px_rgba(15,23,42,0.18)]">

    <!-- LEFT PANEL -->
    <div class="hidden md:flex flex-col justify-between bg-gradient-to-br 
                from-rose-600 via-rose-500 to-amber-400 p-8 text-white">

      <div>
        <p class="inline-flex items-center bg-white/20 px-4 py-1 rounded-full text-sm">
          <span class="mr-2 h-2 w-2 rounded-full bg-emerald-300"></span>
          Trusted by millions of hosts
        </p>

        <h2 class="mt-6 text-3xl md:text-4xl font-bold leading-tight">
          Log in to unlock curated stays, one-tap check-ins, and 24/7 support.
        </h2>

        <p class="mt-4 text-sm text-white/90">
          All your reservations synced across every device.
        </p>
      </div>

      <div class="space-y-5 rounded-2xl bg-white/20 p-5 backdrop-blur-md">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm text-white/80 uppercase">Avg. guest rating</p>
            <p class="text-3xl font-semibold">4.9/5</p>
          </div>
          <div>
            <p class="text-sm text-white/80 uppercase">Support</p>
            <p class="text-3xl font-semibold">24/7</p>
          </div>
        </div>

        <ul class="space-y-3 text-sm font-medium text-white/90">
          <li class="flex items-center gap-3">
            <span class="h-6 w-6 bg-white/30 rounded-full flex items-center justify-center text-xs">1</span>
            Secure account access
          </li>
          <li class="flex items-center gap-3">
            <span class="h-6 w-6 bg-white/30 rounded-full flex items-center justify-center text-xs">2</span>
            Sync favorites across devices
          </li>
          <li class="flex items-center gap-3">
            <span class="h-6 w-6 bg-white/30 rounded-full flex items-center justify-center text-xs">3</span>
            Instant booking notifications
          </li>
        </ul>
      </div>
    </div>

    <!-- RIGHT PANEL -->
    <div class="flex flex-col justify-center p-6 sm:p-10 bg-white">
      <div class="w-full max-w-md mx-auto">

        <div class="mb-8">
          <p class="text-xs font-semibold uppercase tracking-widest text-rose-400">Airbnb</p>
          <h1 class="text-3xl font-semibold text-gray-900">Welcome back</h1>
          <p class="text-sm text-gray-500">
            Sign in with your email and password.
          </p>
        </div>

        <form action="/login" method="POST" class="space-y-5">
          <%- include('../partials/errorMessages') %>

          <div>
            <label class="text-sm font-semibold text-gray-700">Email</label>
            <input type="email" name="email" required
              class="w-full rounded-xl border border-gray-200 px-4 py-3 text-sm shadow-sm
                     focus:border-rose-400 focus:ring-2 focus:ring-rose-200">
          </div>

          <div>
            <label class="text-sm font-semibold text-gray-700">Password</label>
            <input type="password" name="password" required
              class="w-full rounded-xl border border-gray-200 px-4 py-3 text-sm shadow-sm
                     focus:border-rose-400 focus:ring-2 focus:ring-rose-200">
          </div>

          <button type="submit"
            class="w-full py-3 rounded-2xl bg-gradient-to-r from-rose-600 via-rose-500 to-amber-400
                   text-white font-semibold text-sm shadow-lg hover:brightness-110">
            Continue to Airbnb
          </button>
        </form>

        <p class="mt-8 text-center text-sm text-gray-500">
          Don’t have an account?
          <a href="/signup" class="font-semibold text-rose-500 hover:text-rose-600">
            Sign up
          </a>
        </p>

      </div>
    </div>

  </div>
</section>

<style>
  @keyframes pop {
    0% {
      opacity: 0;
      transform: translate(-50%, -20px) scale(0.85);
    }
    60% {
      opacity: 1;
      transform: translate(-50%, 0) scale(1.05);
    }
    100% {
      transform: translate(-50%, 0) scale(1);
    }
  }
  
  .animate-pop {
    animation: pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  </style>
  
