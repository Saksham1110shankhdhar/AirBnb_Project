<%- include('../partials/layout', {
  title: 'Reset Password • Airbnb',
  mainClass: 'pt-0',
  isLoggedIN: false,
  content: ''
}) %>

<section class="relative flex min-h-[calc(100vh-4rem)] items-center justify-center overflow-hidden bg-gradient-to-br from-rose-50 via-white to-indigo-100 px-4">

  <!-- Floating gradient circles -->
  <div class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute -left-32 top-10 h-72 w-72 rounded-full bg-rose-400/40 blur-3xl animate-pulse"></div>
    <div class="absolute -right-28 bottom-10 h-80 w-80 rounded-full bg-sky-400/40 blur-3xl animate-[ping_5s_linear_infinite]"></div>
  </div>

  <!-- Main Card -->
  <div class="relative mx-auto flex w-full max-w-5xl flex-col overflow-hidden rounded-[32px] bg-white/80 shadow-[0_30px_80px_rgba(15,23,42,0.20)] backdrop-blur-xl md:flex-row">

    <!-- Left Promo Panel -->
    <div class="relative hidden w-full bg-gradient-to-br from-rose-600 via-rose-500 to-amber-400 p-8 text-white md:flex md:w-1/2 md:flex-col md:justify-between">
      <div class="space-y-4">
        <p class="inline-flex items-center gap-2 rounded-full bg-white/20 px-4 py-1 text-xs font-semibold uppercase tracking-[0.25em]">
          <span class="h-2 w-2 rounded-full bg-emerald-300 animate-ping"></span>
          Secure Password Reset
        </p>
        <h1 class="text-3xl font-semibold leading-tight md:text-4xl">
          Reset your password securely in just a few steps.
        </h1>
        <p class="text-sm text-white/90">
          We’ll help you get back into your account with a smooth and safe reset process.
        </p>
      </div>

      <div class="mt-8 space-y-5 rounded-2xl bg-white/15 p-5 backdrop-blur">
        <ul class="space-y-3 text-sm font-medium text-white/90">
          <li class="flex items-center gap-3">
            <span class="inline-flex h-6 w-6 items-center justify-center rounded-full bg-white/25 text-xs font-semibold">✓</span>
            Strong encryption & secure token validation
          </li>
          <li class="flex items-center gap-3">
            <span class="inline-flex h-6 w-6 items-center justify-center rounded-full bg-white/25 text-xs font-semibold">✓</span>
            OTP verification to protect your identity
          </li>
          <li class="flex items-center gap-3">
            <span class="inline-flex h-6 w-6 items-center justify-center rounded-full bg-white/25 text-xs font-semibold">✓</span>
            Change your password anytime, anywhere
          </li>
        </ul>
      </div>
    </div>

    <!-- Right Reset Form -->
    <div class="flex w-full items-center justify-center bg-white/95 p-6 sm:p-8 md:w-1/2">
      <div class="w-full max-w-md">

        <div class="mb-6 space-y-2">
          <p class="text-xs font-semibold uppercase tracking-[0.25em] text-rose-400">Airbnb</p>
          <h2 class="text-2xl font-semibold text-gray-900 md:text-3xl">Reset your password</h2>
          <p class="text-sm text-gray-500">
            Enter your new password below to finish resetting your account.
          </p>
        </div>

        <form action="/reset-password" method="POST" class="space-y-4">

          <!-- Show errors -->
          <%- include('../partials/errorMessages') %>
        
          <!-- hidden email field -->
          <input type="hidden" name="email" value="<%= email %>" />
        
          <!-- OTP Input -->
          <div class="space-y-1.5">
            <label class="text-sm font-semibold text-gray-700">Enter OTP</label>
            <input
              type="text"
              name="otp"
              required
              minlength="6"
              maxlength="6"
              class="w-full rounded-xl border border-gray-200 bg-white px-3.5 py-2.5 text-sm tracking-widest text-center shadow-sm 
                     transition focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-200"
              placeholder="6-digit OTP"
            />
          </div>
        
          <!-- New Password -->
          <div class="space-y-1.5">
            <label class="text-sm font-semibold text-gray-700">New Password</label>
            <input
              type="password"
              name="password"
              required
              minlength="6"
              class="w-full rounded-xl border border-gray-200 bg-white px-3.5 py-2.5 text-sm shadow-sm transition 
                     focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-200"
              placeholder="Enter a strong password"
            />
          </div>
        
          <!-- Confirm Password -->
          <div class="space-y-1.5">
            <label class="text-sm font-semibold text-gray-700">Confirm New Password</label>
            <input
              type="password"
              name="confirmPassword"
              required
              minlength="6"
              class="w-full rounded-xl border border-gray-200 bg-white px-3.5 py-2.5 text-sm shadow-sm transition 
                     focus:border-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-200"
              placeholder="Re-enter new password"
            />
          </div>
        
          <button
            type="submit"
            class="relative inline-flex w-full items-center justify-center overflow-hidden rounded-2xl bg-gradient-to-r 
                   from-rose-500 via-rose-400 to-amber-400 px-4 py-3 text-sm font-semibold text-white shadow-lg 
                   shadow-rose-200 transition hover:brightness-110 focus:outline-none focus:ring-4 
                   focus:ring-rose-200/60 focus:ring-offset-2 focus:ring-offset-white"
          >
            Reset Password
          </button>
        
        </form>
        

        <p class="mt-6 text-center text-sm text-gray-500">
          Remember your password?
          <a href="/login" class="font-semibold text-rose-500 hover:text-rose-600">Log in</a>
        </p>

      </div>
    </div>

  </div>
</section>
